## Програмування безпечної міжпроцесної та міжпотокової взаємодії в Unix-подібних ОС

### 2.1 Аналіз наявності змагань у міжпотоковій взаємодії на основі алгоритму «Строге чергування»:

![image](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/43c27a41-b832-4ab7-9d0e-26ecfc82d7a0)

Рис.1-2.1.1 Для проведення експериментів над механізмами взаємного виключення
декількох потоків під час паралельного доступу до структурної змінної з використанням
алгоритму «Строге чергування» створити С-програму з назвою за шаблоном
«db_strictwatching_ваше_прізвище.c», яка містить:
 опис структурної змінної, який відповідає структурі реляційної таблиці;
 налаштування роботи двох потоків через окремі функції з назвою T1,T2;
 структури даних роботи алгоритму «Строге чергування» в програмному коді
потокових функцій;
 кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
 функції затримки для імітації паралельної роботи потоків.

![image](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/fcdcbf41-d901-41b3-a5be-a1105411a03d)

Рис.2-2.1.2 Скомпілювати програму та перевірити її роботу. Зробити висновок щодо
наявності або відсутності змагань потоків.
Висновок:Программи змагаються за ресурси;

### 2.2 Аналіз наявності змагань у міжпотоковій взаємодії на основі алгоритму Петерсона:

![image](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/d6748902-73f7-4bed-aab2-574ae97c22b5)

Рис.3-2.2.1 Для проведення експериментів над механізмами взаємного виключення
декількох потоків під час паралельного доступу до структурної змінної з використанням
алгоритму Петерсона створити С-програму з назвою за шаблоном
«db_peterson_ваше_прізвище.c», яка містить:
 опис структурної змінної, який відповідає структурі реляційної таблиці;
 налаштування роботи двох потоків через окремі функції з назвою T1,T2;
 кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
 структури даних роботи алгоритму Петерсона в програмному коді потокових
функцій;
 функції затримки для імітації паралельної роботи потоків.

![image](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/4f2e07f2-bd1a-435a-ae66-4a2bb1cfdfb7)

Рис.4-2.2.2 Скомпілювати програму та перевірити її роботу. Зробити висновок щодо
наявності або відсутності змагань потоків.
Висновок:Программи не змагаються за ресурси;

### 3 Аналіз наявності змагань у міжпотоковій взаємодії на основі алгоритму Петерсона

![2 3 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/c5f46bbb-e1f3-4770-8cc5-a46db2f5a225)

2.3.1 Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням алгоритму Петерсона створити С-програму з назвою за шаблоном «db_peterson_ваше_прізвище.c», яка містить:
- опис структурної змінної, який відповідає структурі реляційної таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- структури даних роботи алгоритму Петерсона в програмному коді потокових функцій;
- функції затримки для імітації паралельної роботи потоків.

![2 3 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/2f54681c-5af5-426b-bee7-0891a361ab7f)

2.3.2 Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків.

висновок: змагання потоків відсутні. Програма використовує алгоритм Петерсона для забезпечення взаємного виключення двох потоків під час доступу до структури даних. Потоки взаємодіють і виконують свої критичні секції послідовно, запобігаючи конфліктам.

### 4 Аналіз наявності змагань у міжпотоковій взаємодії на основі двійкового семафору

![2 4 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/a491ab63-5edb-407e-a20e-e430feb2f26e)

2.4.1 Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням двійкового семафору створити С-програму з назвою за шаблоном «db_semaphore2_ваше_прізвище.c», яка містить:
- опис структурної змінної, який відповідає структурі реляційної таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- назва семафору співпадає з вашим прізвищем транслітерацією;
- права доступу при відкритті семафору = можна читати, писати та виконувати власнику та групі власника;
- функції керування семафором;
- функції затримки для імітації паралельної роботи потоків.

![2 4 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/6e0efb35-6bd3-49cf-8e83-b01304194520)

2.4.2 Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків.

висновок: змагання потоків відсутні. Змагання потоків уникається завдяки використанню двійкового семафора для взаємного виключення. Кожен потік послідовно отримує доступ до критичної секції, виконує свої дії і розблоковує семафор, щоб дозволити іншому потоку увійти в критичну секцію. Програма демонструє правильне функціонування механізму взаємного виключення та відсутність змагань потоків.

### 5 Аналіз наявності змагань у міжпотоковій взаємодії на основі м’ютексу

![2 5 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/30050d60-ba57-4c1e-b038-825009fb456b)

2.5.1 Для проведення експериментів над механізмами взаємного виключення декількох потоків під час паралельного доступу до структурної змінної з використанням м’ютексу створити С-програму з назвою за шаблоном «db_mutex_ваше_прізвище.c»:
- опис структурної змінної, який відповідає структурі реляційної таблиці;
- налаштування роботи двох потоків через окремі функції з назвою T1,T2;
- кожна функція повинна:
o спочатку виконати операцію читання значення будь-якого елемента структури;
o в подальшому виконати операцію зміни значення вказаного елемента структури;
- функції керування м’ютексом;
- функції затримки для імітації паралельної роботи потоків.

![2 5 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/d7156c29-1350-4405-a899-56fc3cd1a438)

2.5.2 Скомпілювати програму та перевірити її роботу. Зробити висновок щодо наявності або відсутності змагань потоків.

висновок: змагання потоків відсутні. Перед входом в критичну секцію, кожен потік виконує pthread_mutex_lock() для блокування м'ютекса. Це гарантує, що тільки один потік одночасно отримує доступ до критичної секції. Після завершення роботи у критичній секції, кожен потік виконує pthread_mutex_unlock() для розблокування м'ютекса і дозволу наступному потоку увійти.

