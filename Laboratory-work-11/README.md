## Етапи компіляції С-програм та автоматизація побудови С-програм

### 1 Побудова програми з’єднання з СКБД PostgreSQL на основі монолітної С-програми

![2 1 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/ba1efd5c-bc73-407e-87ac-0fb15603de2b)

Рис. 1 Фрагмент рішення екрану "2.1.1 Створити C-програму з назвою «db_connect.c», яка:
- встановлює з'єднання із СКБД PostgreSQL;
- під час з’єднання використовує назву БД та користувача з попередньої лабораторної роботи, які вбудовані в програмний код;
- обробляє результат з’єднання (успішно та помилкове), виводячі на екран відповідні повідомлення, які враховують назву БД;
- увесь програмний код розміщується лише у функції main."

![2 1 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/ce9c4610-de7d-44f9-8010-af7126323b0c)

Рис. 2 Фрагмент рішення екрану "2.1.2 Скомпілювати С-програму, враховуючи каталоги з header-файлами та бібліотеками СКБД PostgreSQL. Перевірити роботу executable-файла."

![2 1 3](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/0f4eb8fc-77ef-434a-8507-11b8b0c66be2)

Рис. 3 Фрагмент рішення екрану "2.1.3 Створити C-програму з назвою «db_connect_param.c», яка повторює всі дії C-програми з назвою «db_connect.c», але назву бази даних та ім’я користувача програма повинна брати як параметри командного рядку."

![2 1 4](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/43c02aa7-85f2-4c3b-aabf-49fbbb61cc21)

Рис. 4 Фрагмент рішення екрану "2.1.4 Скомпілювати С-програму, враховуючи каталоги з header-файлами та бібліотеками СКБД PostgreSQL. Перевірити роботу executable-файла за двома варіантами назви БД: правильна назва та будь-яка неправильна БД."

### 2 Побудова програми з’єднання з СКБД PostgreSQL за модульним принципом програмування

![2 2 1(1)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/25c317cc-905a-4838-a69f-93e78887d845)
![2 2 1(2)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/d58f0c25-b2c9-4a65-950e-e1d264556c3a)
![2 2 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/539ba50b-4bcd-41bf-9a7a-f610dda320b4)

Рис. 5 Фрагмент рішення екрану "2.2.1 Змінити код С-програми, враховуючи модульний принцип програмування:
- оформити програмний код з’єднання із СКБД PostgreSQL у вигляді функції з назвою «connect_назва таблиці», де «назва таблиці» - назва реляційної таблиці з попередньої лабораторної работи;
- розмістити функцію у С-файлі із такою ж назвою, як назва функції;
- створити header-файл за шаблоном «назва таблиці.h» та додати до файлу декларацію створеної функції;
- виконати виклик функції із main-функції файлу з назвою «назва таблиці.c»"

![2 2 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/8ff94574-4f02-4ef7-9008-94cf0db7b173)

Рис. 6 Фрагмент рішення екрану "2.2.2 Скомпілювати С-програму, враховуючи каталоги з header файлами, бібліотеками СКБД PostgreSQL та модульність програми. Перевірити роботу executable-файла."

### 3 Побудова програми з’єднання з СКБД PostgreSQL через команду make

![2 3 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/005df6d6-043b-4123-8c67-16e0f350b802)

Рис. 7 Фрагмент рішення екрану "2.3.1 Створити Makefile, який містить наступний опис мети:
- мета компіляції програми з назвою «назва таблиці.c»
- мета компіляції файлу з функцією."

![2 3 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/350b009c-7309-4090-895a-d7342f8d23c3)

Рис. 8 Фрагмент рішення екрану "2.3.2 Скомпілювати С-файли програмних модулів командою make."

### 4 Побудова програми видалення рядку реляційної таблиці

![2 4 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/37f8ba1d-3895-4b6d-9598-62b17656bc7a)

Рис. 9 Фрагмент рішення екрану "2.4.1 Створити файл як програмний модуль з назвою «remove_назва таблиці.с» із описом функції видалення рядку реляційної таблиці, яка повинна містити:
- команди транзакції (START TRANSACTION, LOCK TABLE назва таблиці ..., DELETE FROM назва таблиці ..., COMMIT);
- повідомлення про результат виконання кожної команди.
Команду DELETE FROM створити за прикладом з попередньої лабораторної роботи."

![2 4 2(1)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/2f15df2a-6518-40fb-8c58-d46205dfbbc9)
![2 4 2(2)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/077155a1-cfb7-436d-82ef-a6df908ceccb)
![2 4 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/f02de645-c669-46a7-b209-0ef3e888613b)

Рис. 10 Фрагмент рішення екрану "2.4.2 Оновити раніше створені файли:
- додати до файлу «назва таблиці».h декларацію нової функції;
- виконати виклик нової функції із main-фукції файлу «назва таблиці».c
- додати опис нової мети у файл Makefile"
- 
![2 4 3(1)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/29eed8af-1335-4b5f-b0a7-3fc6e28ed0b2)

![2 4 3](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/3428b8a7-43ed-4231-a127-47d508e817ef)

Рис. 11 Фрагмент рішення екрану "2.4.3 Скомпілювати С-файли програмних модулів командою make. Перевірити роботу executable-файла."

### 5 Побудова програми додавання рядку реляційної таблиці

![2 5 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/c4a76bce-95c1-42c1-86ed-41ee7e8bd4f8)

Рис. 12 Фрагмент рішення екрану "2.5.1 Створити файл як програмний модуль з назвою «add_назва таблиці.с» із описом функції додавання рядку реляційної таблиці, яка повинна містити:
- команди транзакції (START TRANSACTION, LOCK TABLE назва таблиці ..., INSERT INTO назва таблиці ..., COMMIT);
- повідомлення про результат виконання кожної команди.
Команду INSERT INTO створити за прикладом з попередньої лабораторної роботи."

![2 5 2(1)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/ca254212-9ba5-4b60-93ac-071fc977f967)
![2 5 2(2)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/5e8a3c11-cce1-4ca6-a99b-39fe6f3d7cb3)
![2 5 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/2c9a3924-e718-43ce-8dc5-32cc87bc3225)

Рис. 13 Фрагмент рішення екрану "2.5.2 Оновити раніше створені файли:
- додати до файлу «назва таблиці.h» декларацію нової функції;
- виконати виклик нової функції із main-фукції файлу «назва таблиці.c»
- додати опис нової мети у файл Makefile"

![2 5 3](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/954b3bec-2004-4055-ac25-7a7cb9fb7e72)

Рис. 14 Фрагмент рішення екрану "2.5.3 Скомпілювати С-файли програмних модулів командою make."

### 6 Побудова програми перегляду рядків реляційної таблиці

![2 6 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/646df985-b1eb-48f4-a4c0-77b61a5e68bd)

Рис. 15 Фрагмент рішення екрану "2.6.1 Створити файл як програмний модуль з назвою «get_назва таблиці».с із описом функції перегляду рядків реляційної таблиці, яка повинна містити:
- команди транзакції (START TRANSACTION, LOCK TABLE назва таблиці ..., SELECT ... FROM назва таблиці ..., COMMIT);
- повідомлення про результат виконання кожної команди.
Команду SELECT ... FROM створити за прикладом з попередньої лабораторної роботи."

![2 6 2(2)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/7b43649e-5b13-4646-a444-e262d81254ab)
![2 6 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/01c9cace-2819-4e69-8d58-68a43a192550)
![2 6 2(1)](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/f932d8bb-44a8-4725-a8f3-82838e11cc26)

Рис. 16 Фрагмент рішення екрану "2.6.2 Оновити раніше створені файли:
- додати до файлу «назва таблиці».h декларацію нової функції;
- виконати виклик нової функції із main-фукції файлу «назва таблиці».c
- додати опис нової мети у файл Makefile"

![2 6 3](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/c0a5e2ca-82da-40d0-aad1-1ee0bb3fb2b0)

Рис. 17 Фрагмент рішення екрану "2.6.3 Скомпілювати С-файли програмних модулів командою make. Перевірити роботу executable-файла."

### 7 Додаткове налаштування процесу керування файлами через команду make

![2 7 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/8a46f95c-a8d2-4838-82d6-f1d0a897a74f)

Рис. 18 Фрагмент рішення екрану "2.7.1 Додати до файлу Makefile наступні описи мети: 
install – копіювання executable-файлу до каталогу /home/ваш_користувач/bin (попередньо створити такий каталог);
clean – очистка всіх object-файлів та executable-файлу."

![2 7 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/fbad9084-1122-4205-b974-1c1b54d01e69)

Рис. 19 Фрагмент рішення екрану "2.7.2 Виконати команду make з метою clean. Перевірити відсутність всіх object-файлів та executable-файлу."

![2 7 3](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/960fe130-e7a0-48c7-aa05-2d2c0ea617bb)

Рис. 20 Фрагмент рішення екрану "2.7.3 Скомпілювати С-файли програмних модулів командою make."

![2 7 4](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/bacd138b-8fae-4d06-9696-162b3a478b13)

Рис. 21 Фрагмент рішення екрану "2.7.4 Виконати команду make з метою install. Перевірити роботу executable-файла без необхідності вказувати до нього шлях доступу."

![2 7 5](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/027bc074-5995-4674-84fd-616b3791b56d)

Рис. 22 Фрагмент рішення екрану "2.7.5 Повторно скомпілювати С-файли програмних модулів командою make. Надати висновки щодо повідомлення команди."

Повідомлення "make: 'airplane' is up to date" означає, що файл виконуваного програми з назвою "airplane" вже знаходиться в актуальному стані і не потребує повторної компіляції. Це означає, що жоден з вихідних файлів програмних модулів або їх залежностей не був змінений після останньої компіляції.

### 8 Огляд етапів побудови С-програми GNU-компілятором GCC


![2 8 1](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/99a12b36-5599-41f0-8910-cef17d1e693b)

Рис. 23 Фрагмент рішення екрану "2.8.1 Виконати prepocessing-етап для вказаного файлу, зберігши результат у файлі «назва таблиці.i»"

![2 8 2](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/3ad7d0a0-0627-4b3f-9267-1f40b7d49f48)

Рис. 24 Фрагмент рішення екрану "2.8.2 Виконати compilation-етап для файлу «назва таблиці.i», зберігши результат у файлі «назва таблиці.s»"

![2 8 3](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/2118fc04-9740-4ae1-a13c-c3009cff93b6)

Рис. 25 Фрагмент рішення екрану "2.8.3 Повторити compilation-етап для файлу «назва таблиці.i» з оптимізацію програмного коду, зберігши результат у файлі «назва таблиці_opt.s», та визначити відсоток зменшення кількості рядків після оптимізації."

Кількість рядків зменшилась з 64 до 60, тобто відсоток зменшення кількості рядків після оптимізації становить 6.25%.

![2 8 4](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/5da460ef-c9da-4ee0-85a9-bb5e8de84e9f)

Рис. 26 Фрагмент рішення екрану "2.8.4 Виконати assembly-етап для файлу «назва таблиці.i», зберігши результат у файлі «назва таблиці.o»"

![2 8 5](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/c5b2509a-d8d6-46e8-9ae3-c13624aa9a76)

Рис. 27 Фрагмент рішення екрану "2.8.5 Визначити командний рядок виконання linking-етапу для файлу «назва таблиці.o» та зберегти результат у файл-скрипті ld.sh"

![2 8 6](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/f642e2b3-7f09-469f-abaa-06e4c033038c)

Рис. 28 Фрагмент рішення екрану "2.8.6 Виконати linking-етап через виконання створеного раніше файл-скрипту ld.sh."

![2 8 7](https://github.com/oleksandrblazhko/ai222-lyaskovskij/assets/127392217/942afbf8-f0a3-4966-a858-c7bcd17bcf34)

Рис. 29 Фрагмент рішення екрану "2.8.7 Переглянути список файлів динамічних бібліотек, пов’язаних зі створеним executable-файлом."

